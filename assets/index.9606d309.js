var St=Object.defineProperty;var je=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable;var Be=(l,e,t)=>e in l?St(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,be=(l,e)=>{for(var t in e||(e={}))Ot.call(e,t)&&Be(l,t,e[t]);if(je)for(var t of je(e))Nt.call(e,t)&&Be(l,t,e[t]);return l};import{S as x,i as ee,s as te,e as ye,a as P,g as ce,t as S,c as ue,b as M,d as I,f as h,h as f,j as K,k as m,l as Q,n as G,m as $e,o as U,p as se,q as Y,r as E,u as Le,v as qe,w as Rt,x as Et,y as Tt,z as T,A as O,B as j,C as B,D as Ce,E as jt,F as Bt,G as Lt,H as ke,I as fe,J as qt,P as Dt,K as Kt,L as Ae,M as de,N as zt,O as De,Q as Ft,R as Ke,T as Pe,U as Ht,V as ie,W as ae,X as re,Y as ze,Z as Jt,_ as Wt,$ as Gt,a0 as pe}from"./vendor.9105482a.js";const Ut=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}};Ut();const Zt=[{name:"petrol",color:"007c9d"},{name:"tuerkis",color:"00afc6"},{name:"grau",color:"5a5a5a"},{name:"orange",color:"fa965a"}],Qt=["petrol","petrol","petrol","tuerkis","tuerkis","tuerkis","grau","orange","orange"],Z={Correct:"correct",Incorrect:"incorrect",None:"none"};function Yt(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}function Fe(l){return l[Math.floor(Math.random()*l.length)]}function He(l){const e=[...l];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[n],e[n]=s}return e}function Vt(l,e){var t=!1;return function(){t||(l.apply(this,arguments),t=!0,setTimeout(function(){t=!1},e))}}function Me(l){return l.split(",").map(e=>e.trim())}function Je(l,e){let t=[];if(e>l.length||e<1)return[];if(e===l.length)return[l];if(e===1)return l.map(n=>[n]);for(let n=0;n<l.length-e+1;n++){let s=l.slice(n,n+1),i=Je(l.slice(n+1),e-1);for(let a=0;a<i.length;a++)t.push(s.concat(i[a]))}return t}function We(l){let e,t,n;const s=[en,xt,Xt],i=[];function a(r,c){return r[0].flipped?r[0].type==="image"?1:2:0}return e=a(l),t=i[e]=s[e](l),{c(){t.c(),n=ye()},m(r,c){i[e].m(r,c),P(r,n,c)},p(r,c){let o=e;e=a(r),e===o?i[e].p(r,c):(ce(),S(i[o],1,1,()=>{i[o]=null}),ue(),t=i[e],t?t.p(r,c):(t=i[e]=s[e](r),t.c()),M(t,1),t.m(n.parentNode,n))},d(r){i[e].d(r),r&&I(n)}}}function Xt(l){let e,t=l[0].value+"",n,s,i;return{c(){e=h("div"),n=U(t),f(e,"class","card-front text-light-blue-800 svelte-14cke48"),K(e,"incorrect",l[0].status===Z.Incorrect),K(e,"correct",l[0].status===Z.Correct)},m(a,r){P(a,e,r),m(e,n),i=!0},p(a,r){(!i||r&1)&&t!==(t=a[0].value+"")&&se(n,t),r&1&&K(e,"incorrect",a[0].status===Z.Incorrect),r&1&&K(e,"correct",a[0].status===Z.Correct)},i(a){i||(a&&Y(()=>{s||(s=E(e,me,{},!0)),s.run(1)}),i=!0)},o(a){a&&(s||(s=E(e,me,{},!1)),s.run(0)),i=!1},d(a){a&&I(e),a&&s&&s.end()}}}function xt(l){let e,t,n;return{c(){e=h("div"),f(e,"class","card-front svelte-14cke48"),Le(e,"background-image","url("+l[0].value+")"),K(e,"incorrect",l[0].status===Z.Incorrect),K(e,"correct",l[0].status===Z.Correct)},m(s,i){P(s,e,i),n=!0},p(s,i){(!n||i&1)&&Le(e,"background-image","url("+s[0].value+")"),i&1&&K(e,"incorrect",s[0].status===Z.Incorrect),i&1&&K(e,"correct",s[0].status===Z.Correct)},i(s){n||(s&&Y(()=>{t||(t=E(e,me,{},!0)),t.run(1)}),n=!0)},o(s){s&&(t||(t=E(e,me,{},!1)),t.run(0)),n=!1},d(s){s&&I(e),s&&t&&t.end()}}}function en(l){let e,t,n,s;return{c(){e=h("div"),f(e,"class","card-back absolute transition inset-0 shadow-md rounded-sm svelte-14cke48"),f(e,"style",t=";background-image:url('"+l[2][l[0].backColor]+"');")},m(i,a){P(i,e,a),s=!0},p(i,a){(!s||a&1&&t!==(t=";background-image:url('"+i[2][i[0].backColor]+"');"))&&f(e,"style",t)},i(i){s||(i&&Y(()=>{n||(n=E(e,me,{},!0)),n.run(1)}),s=!0)},o(i){i&&(n||(n=E(e,me,{},!1)),n.run(0)),s=!1},d(i){i&&I(e),i&&n&&n.end()}}}function tn(l){let e,t,n,s,i,a=l[0]&&We(l);return{c(){e=h("div"),t=h("div"),n=h("div"),a&&a.c(),f(n,"class","absolute inset-1 transform rotate transform transition card-container scale-100 svelte-14cke48"),f(n,"style",`--tw-rotate:${Math.random()*6-3}deg`),K(n,"closed",!l[0]||!l[0].flipped),K(n,"touchy",Yt()),f(t,"class","absolute cursor-pointer transition inset-0 hover:z-2 preserve-3d perspect-origin-center perspect-1000px svelte-14cke48"),f(e,"class","relative w-27 h-27 svelte-14cke48")},m(r,c){P(r,e,c),m(e,t),m(t,n),a&&a.m(n,null),s||(i=Q(e,"click",l[3]),s=!0)},p(r,[c]){r[0]?a?a.p(r,c):(a=We(r),a.c(),a.m(n,null)):a&&(a.d(1),a=null),c&1&&K(n,"closed",!r[0]||!r[0].flipped)},i:G,o:G,d(r){r&&I(e),a&&a.d(),s=!1,i()}}}function me(l,{delay:e=0,duration:t=250}){return{delay:e,duration:t,css:(n,s)=>`
        transform: rotateX(${1-s*180}deg) rotateZ(${1-s*5}deg) scale(${1+s*.6});
        opacity: ${s<.5?1:0};
      `}}function nn(l,e,t){const n=$e(),s=Object.fromEntries(Zt.map(({name:r,color:c})=>[r,`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" stroke="%23${c.replace("#","")}" stroke-width="22" viewBox="0 0 100 100"%3E%3Cg transform="rotate(45)"%3E%3Cpath d="M0 0h150M0 30h150M0 60h150M0 -30h150M0 -60h150"/%3E%3C/g%3E%3C/svg%3E`]));let{card:i}=e;const a=()=>{n("flipped")};return l.$$set=r=>{"card"in r&&t(0,i=r.card)},[i,n,s,a]}class Ie extends x{constructor(e){super();ee(this,e,nn,tn,te,{card:0})}}function ln(l){let e,t,n;return{c(){e=qe("svg"),t=qe("path"),f(t,"d",l[0]),f(e,"viewBox",n="0 0 "+l[1].w+" "+l[1].h),f(e,"fill",l[2]),f(e,"width","100%"),f(e,"height","100%")},m(s,i){P(s,e,i),m(e,t)},p(s,[i]){i&1&&f(t,"d",s[0]),i&2&&n!==(n="0 0 "+s[1].w+" "+s[1].h)&&f(e,"viewBox",n),i&4&&f(e,"fill",s[2])},i:G,o:G,d(s){s&&I(e)}}}function sn(l,e,t){let{d:n}=e,{dim:s={w:30,h:30}}=e,{fill:i="rgb(156, 163, 175)"}=e;return l.$$set=a=>{"d"in a&&t(0,n=a.d),"dim"in a&&t(1,s=a.dim),"fill"in a&&t(2,i=a.fill)},[n,s,i]}class Se extends x{constructor(e){super();ee(this,e,sn,ln,te,{d:0,dim:1,fill:2})}}function an(l){let e,t,n,s,i,a,r,c,o,p,u,_,g,b,$,A,C,L,N;return i=new Se({props:{d:Rt}}),p=new Se({props:{d:Et,fill:"rgb(251, 146, 60)"}}),$=new Se({props:{d:Tt}}),{c(){e=h("div"),t=h("div"),n=h("button"),s=h("span"),T(i.$$.fragment),a=U("Optionen"),r=O(),c=h("button"),o=h("span"),T(p.$$.fragment),u=U("Neu"),_=O(),g=h("button"),b=h("span"),T($.$$.fragment),A=U("Daten"),f(s,"class","w-6 h-6 inline-block mr-1 svelte-1uh3kgt"),f(n,"class","svelte-1uh3kgt"),f(o,"class","w-6 h-6 inline-block mr-1 svelte-1uh3kgt"),f(c,"class","text-orange-400 h-full  svelte-1uh3kgt"),f(b,"class","w-6 h-6 inline-block mr-1 svelte-1uh3kgt"),f(g,"class","svelte-1uh3kgt"),f(t,"class","max-w-xl mx-auto flex justify-between svelte-1uh3kgt"),f(e,"class","absolute left-0 right-0 top-0 z-10 bg-dark-200 svelte-1uh3kgt")},m(w,q){P(w,e,q),m(e,t),m(t,n),m(n,s),j(i,s,null),m(n,a),m(t,r),m(t,c),m(c,o),j(p,o,null),m(c,u),m(t,_),m(t,g),m(g,b),j($,b,null),m(g,A),C=!0,L||(N=[Q(n,"click",l[1]),Q(c,"click",l[2]),Q(g,"click",l[3])],L=!0)},p:G,i(w){C||(M(i.$$.fragment,w),M(p.$$.fragment,w),M($.$$.fragment,w),C=!0)},o(w){S(i.$$.fragment,w),S(p.$$.fragment,w),S($.$$.fragment,w),C=!1},d(w){w&&I(e),B(i),B(p),B($),L=!1,Ce(N)}}}function rn(l){const e=$e();return[e,()=>{e("menu-settings")},()=>{e("shuffle")},()=>{e("menu-data")}]}class on extends x{constructor(e){super();ee(this,e,rn,an,te,{})}}function Ge(l){let e,t,n,s,i,a,r,c,o,p,u,_,g;const b=l[4].default,$=qt(b,l,l[3],null);return{c(){e=h("div"),n=O(),s=h("div"),i=h("h1"),a=U(l[1]),r=O(),$&&$.c(),c=O(),o=h("button"),o.textContent="OK",f(e,"class","fixed z-20 inset-0 bg-light-300/15 backdrop-filter backdrop-blur-sm backdrop-grayscale svelte-do0nsj"),f(i,"class","mt-0 mb-10 pt-1 text-center font-thin text-xl svelte-do0nsj"),f(o,"class","btn w-full mt-5 svelte-do0nsj"),f(s,"class","absolute self-center mt-20 w-xs bg-dark-200 z-21 rounded-xl shadow px-5 pt-3 pb-5 text-light-900 svelte-do0nsj")},m(A,C){P(A,e,C),P(A,n,C),P(A,s,C),m(s,i),m(i,a),m(s,r),$&&$.m(s,null),m(s,c),m(s,o),u=!0,_||(g=[Q(e,"click",l[2]),Q(o,"click",l[2])],_=!0)},p(A,C){(!u||C&2)&&se(a,A[1]),$&&$.p&&(!u||C&8)&&jt($,b,A,A[3],u?Lt(b,A[3],C,null):Bt(A[3]),null)},i(A){u||(Y(()=>{t||(t=E(e,ke,{duration:50},!0)),t.run(1)}),M($,A),Y(()=>{p||(p=E(s,fe,{duration:150},!0)),p.run(1)}),u=!0)},o(A){t||(t=E(e,ke,{duration:50},!1)),t.run(0),S($,A),p||(p=E(s,fe,{duration:150},!1)),p.run(0),u=!1},d(A){A&&I(e),A&&t&&t.end(),A&&I(n),A&&I(s),$&&$.d(A),A&&p&&p.end(),_=!1,Ce(g)}}}function cn(l){let e,t,n=l[0]&&Ge(l);return{c(){n&&n.c(),e=ye()},m(s,i){n&&n.m(s,i),P(s,e,i),t=!0},p(s,[i]){s[0]?n?(n.p(s,i),i&1&&M(n,1)):(n=Ge(s),n.c(),M(n,1),n.m(e.parentNode,e)):n&&(ce(),S(n,1,1,()=>{n=null}),ue())},i(s){t||(M(n),t=!0)},o(s){S(n),t=!1},d(s){n&&n.d(s),s&&I(e)}}}function un(l,e,t){let{$$slots:n={},$$scope:s}=e;const i=$e();let{open:a=!1}=e,{title:r=""}=e;function c(){i("close")}return l.$$set=o=>{"open"in o&&t(0,a=o.open),"title"in o&&t(1,r=o.title),"$$scope"in o&&t(3,s=o.$$scope)},[a,r,c,s,n]}class we extends x{constructor(e){super();ee(this,e,un,cn,te,{open:0,title:1})}}function fn(l,e,t){const n=.1;let s=l.map(r=>{var g;const c={isLeft:!0,type:"text",origin:r,value:null},o={isLeft:!1,type:"text",origin:r,value:null},p=Math.max(1,Math.ceil(n/(1-n)*r.characteristics.length)),u=Array.from({length:p},b=>({type:"name",value:r.name}));let _=t.onlyNames?u:[...r.characteristics];return((g=r.profilePicture)==null?void 0:g.length)?(c.type="image",c.value=r.profilePicture):(c.type="text",c.value=r.name,_=r.characteristics),o.value=Fe(_).value,t.isCatMode&&(o.type="image",o.value=r.profilePicture),{left:c,right:o}});const i=He(He(s.slice(0,e)).map(({left:r,right:c},o)=>[r,c].map(({isLeft:p,type:u,value:_},g)=>({id:o*2+g,type:u,value:_,flipped:!1,status:"none",backColor:t.isCardBackRandom?Fe(Qt):p?"orange":"petrol"}))).flat()),a=[];for(let r=0;r<i.length-1;r++)for(let c=r+1;c<i.length;c++)Ue(l,[i[r],i[c]])&&a.push([i[r].id,i[c].id]);return{legalPairs:a,cards:i}}function Ue(l,e){const[t,n]=e;return l.find(s=>{let i=!1;t.type==="image"||n.type==="image"?i=s.profilePicture===t.value||s.profilePicture===n.value:i=s.name===t.value||s.name===n.value;const a=s.values.filter(c=>c===t.value),r=s.values.filter(c=>c===n.value);return i&&a.length&&r.length})}function dn(l,e,t,n){const s=Ue(l,t),i=e.filter(o=>!o.flipped).map(o=>o.id);if(i.length===0)return{isCorrect:!!s,isSolvable:!0};if(t.every(o=>o.value.match(/(ruppert|jores)\.jpg$/)))return{isCorrect:!0,isSolvable:!1};const a=n.filter(([o,p])=>i.includes(o)&&i.includes(p)),c=Je(a,i.length/2).some(o=>i.length===new Set(o.flat()).size);return{isCorrect:!!s,isSolvable:c}}const pn={auth:{clientId:"8cb79a95-16ba-4944-ba1f-3eb6aba590af",authority:"https://login.microsoftonline.com/xenium.de/",redirectUri:"https://xenium-ag.github.io/x-memory/",postLogoutRedirectUri:"https://xenium-ag.github.io/x-memory/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},Oe={scopes:["openid","profile","User.Read","Files.ReadWrite.All"]},Ze={scopes:["Files.ReadWrite.All"]},Qe="https://graph.microsoft.com/v1.0/",Ye={graphMeEndpoint:Qe+"me",graphExcelEndpoint:Qe+"me/drives('b!Utxo2OdxZ0m6Aa6YyxsRYJq_yqIJBDhAhzfzV4IdMqAfOk7I-jyKSbaKTjKw9ckq')/items/01J56JD4FDQGYFDNQWWBF33LJVPIJ227RC/workbook"},z=new Dt(pn);(async()=>{mn(await z.handleRedirectPromise())})();function mn(l){z.getAllAccounts().length===0?z.loginRedirect(Oe):z.setActiveAccount(z.getAllAccounts()[0])}async function _n(){const l=await z.loginRedirect(Oe);return console.log("id_token acquired at: "+new Date().toString()),z.setActiveAccount(z.getAllAccounts()[0]),l}async function gn(){return z.logoutRedirect()}function hn(){return!!z.getActiveAccount()}async function Ve(l,e,t,n,s){const i={method:l,headers:new Headers(be({Authorization:`Bearer ${s}`},e))};return["patch","post"].some(a=>a===l.toLowerCase())&&(i.body=JSON.stringify(n)),(await fetch(t,i)).json()}async function Xe(l){try{return await z.acquireTokenSilent(l)}catch(e){return console.error(e),z.acquireTokenRedirect(l)}}async function xe(l){z.getActiveAccount()||await _n();const{accessToken:e}=await Xe(l);return e}async function et(){return z.getActiveAccount()||await Xe(Oe),z.getActiveAccount().username}let Ne="";async function vn(){if(!Ne){const{id:l}=await Ve("POST",{persistChanges:!0},Ye.graphExcelEndpoint+"/createSession",{},await xe(Ze));Ne=l,bn()}}async function Re(l,e,t={}){return await vn(),Ve(l,{"workbook-session-id":Ne},Ye.graphExcelEndpoint+"/"+e,t,await xe(Ze))}async function bn(){setInterval(async()=>{Re("GET","worksheets")},1e3*60*2)}const tt="ABCDEFGHIJKLMOPQRSTUVWXYZ".split("");function kn(l){const e=l.slice(0,1).flat();return l.slice(1).map(t=>{const n={};return t.forEach((s,i)=>n[e[i]]=s),n})}async function nt(){return kn((await Re("GET","worksheets('data')/usedRange")).values)}async function lt(l){const e=await nt(),t=e.findIndex(n=>n.accountName===l);return{index:t,row:e[t]}}async function wn(l,e){const{index:t,row:n}=await lt(l);Object.entries(e).forEach(([r,c])=>{n.hasOwnProperty(r)&&(n[r]=c)});const s=Object.values(n).slice(1),i={values:[s]},a=1;await Re("PATCH",`worksheets('data')/range(address='${tt[a]}${t+2}:${tt[a+s.length-1]}${t+2}')`,i)}Me("Berlin,M\xFCnchen,Hamburg");Me("Anna,Max,Peter,Michael,Hans,Frank,Tina,Lea,Hannah,Rudolf");Me("Wick,Johnson,Cooper,Gandalf,Mask,Ford");async function yn(l=null){const e=(await nt()).filter(t=>t.optIn);if(l){const t=e.findIndex(n=>n.accountName===l.accountName);t>=0&&(e[t]=l)}return e.map((t,n)=>{const s=[{type:"name",value:t.name}].concat(t.hobbies.split(/[\,\.;]/g).filter(a=>a.trim().length>0).map(a=>({type:"hobby",value:a}))),i=s.map(a=>a.value).concat([t.profilePicture]);return{id:n,accountName:t.accountName,profilePicture:t.profilePicture,name:t.name,characteristics:s,values:i}})}function st(l,{delay:e=0}){return{delay:Math.random()*150,duration:200+Math.random()*50,css:(t,n)=>`
      transform:  translate(${-(1-t)*(-l.parentElement.offsetWidth/2+l.offsetLeft+l.offsetWidth/2)}px,${-(1-t)*(l.offsetTop+2*l.offsetHeight+l.parentElement.offsetTop)}px) rotateZ(${(1-t)*90}deg);
    `,easing:Kt}}const _e=Ae(0),it={numOfPairs:12,onlyNames:!1,randomCardBacks:!1},$n={accountName:"lorem",optIn:!1,name:"ipsum",profilePicture:"http://placekitten.com/g/200/200",hobbies:""},at="x-memory.settings",ge=Ae(it);var gt;ge.set(be(be({},it),JSON.parse((gt=localStorage.getItem(at))!=null?gt:"{}")));const he=Ae($n);ge.subscribe(l=>{localStorage.setItem(at,JSON.stringify(l))});function Cn(l){let e,t,n,s,i,a,r,c,o,p,u,_;return{c(){e=h("label"),t=h("span"),n=h("input"),s=O(),i=h("div"),a=O(),r=h("div"),c=O(),o=h("span"),p=U(l[1]),f(n,"id",l[2]),f(n,"type","checkbox"),f(n,"class","hidden svelte-19cvki3"),f(i,"class","w-10 h-6 rounded-full shadow-inner bg-red-400 transition svelte-19cvki3"),K(i,"bg-green-500",l[0]),f(r,"class","absolute inset-y-0 left-0 w-4 h-4 m-1 rounded-full shadow bg-dark-200 transition svelte-19cvki3"),K(r,"checked",l[0]),f(t,"class","relative svelte-19cvki3"),f(o,"class","text-sm svelte-19cvki3"),f(e,"for",l[2]),f(e,"class","inline-flex items-center space-x-4 cursor-pointer text-coolGray-100 svelte-19cvki3")},m(g,b){P(g,e,b),m(e,t),m(t,n),n.checked=l[0],m(t,s),m(t,i),m(t,a),m(t,r),m(e,c),m(e,o),m(o,p),u||(_=Q(n,"change",l[3]),u=!0)},p(g,[b]){b&1&&(n.checked=g[0]),b&1&&K(i,"bg-green-500",g[0]),b&1&&K(r,"checked",g[0]),b&2&&se(p,g[1])},i:G,o:G,d(g){g&&I(e),u=!1,_()}}}let An=0;function Pn(l,e,t){let{checked:n}=e,{label:s}=e,i="checkbox_input_"+An++;function a(){n=this.checked,t(0,n)}return l.$$set=r=>{"checked"in r&&t(0,n=r.checked),"label"in r&&t(1,s=r.label)},[n,s,i,a]}class Ee extends x{constructor(e){super();ee(this,e,Pn,Cn,te,{checked:0,label:1})}}function Mn(l){let e,t,n,s,i,a,r;return{c(){e=h("label"),t=h("span"),n=U(l[1]),s=O(),i=h("input"),f(t,"class","text-sm svelte-1owp41l"),f(i,"id",l[4]),f(i,"type","range"),f(i,"min",l[2]),f(i,"max",l[3]),f(i,"class","range my-10 svelte-1owp41l"),f(e,"for",l[4]),f(e,"class","relative svelte-1owp41l")},m(c,o){P(c,e,o),m(e,t),m(t,n),m(e,s),m(e,i),de(i,l[0]),a||(r=[Q(i,"change",l[5]),Q(i,"input",l[5])],a=!0)},p(c,[o]){o&2&&se(n,c[1]),o&4&&f(i,"min",c[2]),o&8&&f(i,"max",c[3]),o&1&&de(i,c[0])},i:G,o:G,d(c){c&&I(e),a=!1,Ce(r)}}}let In=0;function Sn(l,e,t){let{label:n=""}=e,{min:s=3}=e,{max:i=100}=e,{value:a=0}=e,r="range_input_"+In++;function c(){a=zt(this.value),t(0,a)}return l.$$set=o=>{"label"in o&&t(1,n=o.label),"min"in o&&t(2,s=o.min),"max"in o&&t(3,i=o.max),"value"in o&&t(0,a=o.value)},[a,n,s,i,r,c]}class On extends x{constructor(e){super();ee(this,e,Sn,Mn,te,{label:1,min:2,max:3,value:0})}}function Nn(l){let e,t,n;return{c(){e=h("input"),f(e,"type","text"),f(e,"id",l[3]),f(e,"spellcheck","false"),f(e,"autocomplete","new-password"),f(e,"class","input svelte-hkroje")},m(s,i){P(s,e,i),de(e,l[0]),t||(n=Q(e,"input",l[5]),t=!0)},p(s,i){i&1&&e.value!==s[0]&&de(e,s[0])},d(s){s&&I(e),t=!1,n()}}}function Rn(l){let e,t,n;return{c(){e=h("textarea"),f(e,"id",l[3]),f(e,"class","input svelte-hkroje")},m(s,i){P(s,e,i),de(e,l[0]),t||(n=Q(e,"input",l[4]),t=!0)},p(s,i){i&1&&de(e,s[0])},d(s){s&&I(e),t=!1,n()}}}function En(l){let e,t,n,s;function i(c,o){return c[2]?Rn:Nn}let a=i(l),r=a(l);return{c(){e=h("label"),t=h("span"),n=U(l[1]),s=O(),r.c(),f(t,"class","text-sm svelte-hkroje"),f(e,"for",l[3]),f(e,"class","relative svelte-hkroje")},m(c,o){P(c,e,o),m(e,t),m(t,n),m(e,s),r.m(e,null)},p(c,[o]){o&2&&se(n,c[1]),a===(a=i(c))&&r?r.p(c,o):(r.d(1),r=a(c),r&&(r.c(),r.m(e,null)))},i:G,o:G,d(c){c&&I(e),r.d()}}}let Tn=0;function jn(l,e,t){let{label:n=""}=e,{value:s=""}=e,{textarea:i=!1}=e,a="input_"+Tn++;function r(){s=this.value,t(0,s)}function c(){s=this.value,t(0,s)}return l.$$set=o=>{"label"in o&&t(1,n=o.label),"value"in o&&t(0,s=o.value),"textarea"in o&&t(2,i=o.textarea)},[s,n,i,a,r,c]}class Te extends x{constructor(e){super();ee(this,e,jn,En,te,{label:1,value:0,textarea:2})}}function rt(l){let e,t,n,s,i,a;return{c(){e=h("div"),n=O(),s=h("div"),s.innerHTML=`<svg viewBox="0 0 36 36" width="100" height="100" class="animate-spin svelte-uvasy"><path d="M18 2.0845
          a 15.9155 15.9155 0 0 1 0 31.831
          a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#fa965a" stroke-width="3" stroke-linecap="round" stroke-dasharray="75, 100" class="svelte-uvasy"></path></svg>`,f(e,"class","fixed z-20 inset-0 bg-light-300/15 backdrop-filter backdrop-blur-sm backdrop-grayscale svelte-uvasy"),f(s,"class","absolute self-center top-1/2 -mt-50px z-20 svelte-uvasy")},m(r,c){P(r,e,c),P(r,n,c),P(r,s,c),a=!0},i(r){a||(Y(()=>{t||(t=E(e,ke,{duration:50},!0)),t.run(1)}),Y(()=>{i||(i=E(s,fe,{duration:30},!0)),i.run(1)}),a=!0)},o(r){t||(t=E(e,ke,{duration:50},!1)),t.run(0),i||(i=E(s,fe,{duration:30},!1)),i.run(0),a=!1},d(r){r&&I(e),r&&t&&t.end(),r&&I(n),r&&I(s),r&&i&&i.end()}}}function Bn(l){let e,t,n=l[0]&&rt();return{c(){n&&n.c(),e=ye()},m(s,i){n&&n.m(s,i),P(s,e,i),t=!0},p(s,[i]){s[0]?n?i&1&&M(n,1):(n=rt(),n.c(),M(n,1),n.m(e.parentNode,e)):n&&(ce(),S(n,1,1,()=>{n=null}),ue())},i(s){t||(M(n),t=!0)},o(s){S(n),t=!1},d(s){n&&n.d(s),s&&I(e)}}}function Ln(l,e,t){let{open:n=!1}=e;return l.$$set=s=>{"open"in s&&t(0,n=s.open)},[n]}class qn extends x{constructor(e){super();ee(this,e,Ln,Bn,te,{open:0})}}function ot(l,e,t){const n=l.slice();return n[43]=e[t],n[45]=t,n}function ct(l,e,t){const n=l.slice();return n[46]=e[t],n}function ut(l,e,t){const n=l.slice();return n[49]=e[t],n[45]=t,n}function ft(l,e){let t,n,s,i;function a(){return e[17](e[49],e[45])}return n=new Ie({props:{card:e[49]}}),n.$on("flipped",a),{key:l,first:null,c(){t=h("span"),T(n.$$.fragment),f(t,"class",""),this.first=t},m(r,c){P(r,t,c),j(n,t,null),i=!0},p(r,c){e=r;const o={};c[0]&2&&(o.card=e[49]),n.$set(o)},i(r){i||(M(n.$$.fragment,r),Y(()=>{s||(s=E(t,st,{},!0)),s.run(1)}),i=!0)},o(r){S(n.$$.fragment,r),s||(s=E(t,st,{},!1)),s.run(0),i=!1},d(r){r&&I(t),B(n),r&&s&&s.end()}}}function dt(l){let e,t;return{c(){e=h("img"),De(e.src,t=l[46])||f(e,"src",t),f(e,"alt","")},m(n,s){P(n,e,s)},p(n,s){s[0]&8&&!De(e.src,t=n[46])&&f(e,"src",t)},d(n){n&&I(e)}}}function Dn(l){let e,t,n,s,i,a,r,c,o,p,u,_,g;function b(w){l[18](w)}let $={label:"Nur Namen"};l[9].onlyNames!==void 0&&($.checked=l[9].onlyNames),n=new Ee({props:$}),ie.push(()=>ae(n,"checked",b));function A(w){l[19](w)}let C={label:"Zuf\xE4llige Kartenr\xFCcken"};l[9].randomCardBacks!==void 0&&(C.checked=l[9].randomCardBacks),r=new Ee({props:C}),ie.push(()=>ae(r,"checked",A));function L(w){l[20](w)}let N={min:3,max:50,label:`${l[9].numOfPairs} Kartenpaare`};return l[9].numOfPairs!==void 0&&(N.value=l[9].numOfPairs),u=new On({props:N}),ie.push(()=>ae(u,"value",L)),{c(){e=h("div"),t=h("span"),T(n.$$.fragment),i=O(),a=h("span"),T(r.$$.fragment),o=O(),p=h("span"),T(u.$$.fragment),f(t,"class","svelte-1ned7l1"),f(a,"class","svelte-1ned7l1"),f(p,"class","svelte-1ned7l1"),f(e,"class","flex flex-col space-y-8 svelte-1ned7l1")},m(w,q){P(w,e,q),m(e,t),j(n,t,null),m(e,i),m(e,a),j(r,a,null),m(e,o),m(e,p),j(u,p,null),g=!0},p(w,q){const F={};!s&&q[0]&512&&(s=!0,F.checked=w[9].onlyNames,re(()=>s=!1)),n.$set(F);const W={};!c&&q[0]&512&&(c=!0,W.checked=w[9].randomCardBacks,re(()=>c=!1)),r.$set(W);const R={};q[0]&512&&(R.label=`${w[9].numOfPairs} Kartenpaare`),!_&&q[0]&512&&(_=!0,R.value=w[9].numOfPairs,re(()=>_=!1)),u.$set(R)},i(w){g||(M(n.$$.fragment,w),M(r.$$.fragment,w),M(u.$$.fragment,w),g=!0)},o(w){S(n.$$.fragment,w),S(r.$$.fragment,w),S(u.$$.fragment,w),g=!1},d(w){w&&I(e),B(n),B(r),B(u)}}}function pt(l){let e,t,n,s,i,a;function r(o){l[22](o)}let c={label:"Mitmachen"};return l[7].optIn!==void 0&&(c.checked=l[7].optIn),t=new Ee({props:c}),ie.push(()=>ae(t,"checked",r)),{c(){e=h("span"),T(t.$$.fragment),s=O(),i=h("div"),i.textContent="Ohne deinen Opt-in tauchst du im Spiel nicht auf.",f(i,"class","mt-1 text-xs svelte-1ned7l1"),f(e,"class","svelte-1ned7l1")},m(o,p){P(o,e,p),j(t,e,null),m(e,s),m(e,i),a=!0},p(o,p){const u={};!n&&p[0]&128&&(n=!0,u.checked=o[7].optIn,re(()=>n=!1)),t.$set(u)},i(o){a||(M(t.$$.fragment,o),a=!0)},o(o){S(t.$$.fragment,o),a=!1},d(o){o&&I(e),B(t)}}}function mt(l){let e,t,n,s,i,a,r,c,o,p,u,_,g,b,$,A,C,L,N,w;n=new Ie({props:{card:{type:"image",flipped:!0,value:l[7].profilePicture}}}),i=new Ie({props:{card:{type:"text",flipped:!0,value:l[7].name}}});function q(y){l[23](y)}let F={label:"Bild URL (default: Website)"};l[7].profilePicture!==void 0&&(F.value=l[7].profilePicture),o=new Te({props:F}),ie.push(()=>ae(o,"value",q));function W(y){l[24](y)}let R={label:"Name"};l[7].name!==void 0&&(R.value=l[7].name),g=new Te({props:R}),ie.push(()=>ae(g,"value",W));function d(y){l[25](y)}let v={label:"Hobbies, Regien, Lieblingsessen, etc.",textarea:!0};return l[7].hobbies!==void 0&&(v.value=l[7].hobbies),C=new Te({props:v}),ie.push(()=>ae(C,"value",d)),{c(){e=h("span"),t=h("div"),T(n.$$.fragment),s=O(),T(i.$$.fragment),r=O(),c=h("div"),T(o.$$.fragment),u=O(),_=h("div"),T(g.$$.fragment),$=O(),A=h("div"),T(C.$$.fragment),f(t,"class","self-center flex justify-around w-full svelte-1ned7l1"),f(c,"class","svelte-1ned7l1"),f(_,"class","svelte-1ned7l1"),f(A,"class","svelte-1ned7l1"),f(e,"class","space-y-6 svelte-1ned7l1")},m(y,H){P(y,e,H),m(e,t),j(n,t,null),m(t,s),j(i,t,null),m(e,r),m(e,c),j(o,c,null),m(e,u),m(e,_),j(g,_,null),m(e,$),m(e,A),j(C,A,null),w=!0},p(y,H){const X={};H[0]&128&&(X.card={type:"image",flipped:!0,value:y[7].profilePicture}),n.$set(X);const V={};H[0]&128&&(V.card={type:"text",flipped:!0,value:y[7].name}),i.$set(V);const ne={};!p&&H[0]&128&&(p=!0,ne.value=y[7].profilePicture,re(()=>p=!1)),o.$set(ne);const D={};!b&&H[0]&128&&(b=!0,D.value=y[7].name,re(()=>b=!1)),g.$set(D);const le={};!L&&H[0]&128&&(L=!0,le.value=y[7].hobbies,re(()=>L=!1)),C.$set(le)},i(y){w||(M(n.$$.fragment,y),M(i.$$.fragment,y),Y(()=>{a||(a=E(t,fe,{},!0)),a.run(1)}),M(o.$$.fragment,y),M(g.$$.fragment,y),M(C.$$.fragment,y),Y(()=>{N||(N=E(e,ze,{},!0)),N.run(1)}),w=!0)},o(y){S(n.$$.fragment,y),S(i.$$.fragment,y),a||(a=E(t,fe,{},!1)),a.run(0),S(o.$$.fragment,y),S(g.$$.fragment,y),S(C.$$.fragment,y),N||(N=E(e,ze,{},!1)),N.run(0),w=!1},d(y){y&&I(e),B(n),B(i),y&&a&&a.end(),B(o),B(g),B(C),y&&N&&N.end()}}}function Kn(l){let e,t=l[7].accountName.includes("@"),n,s,i,a,r,c,o=t&&pt(l),p=l[7].optIn&&mt(l);return{c(){e=h("div"),o&&o.c(),n=O(),p&&p.c(),s=O(),i=h("button"),i.textContent="Abmelden",f(i,"class","btn bg-cool-gray-700 hover:bg-cool-gray-500 svelte-1ned7l1"),f(e,"class","flex flex-col space-y-6 svelte-1ned7l1")},m(u,_){P(u,e,_),o&&o.m(e,null),m(e,n),p&&p.m(e,null),m(e,s),m(e,i),a=!0,r||(c=Q(i,"click",l[26]),r=!0)},p(u,_){_[0]&128&&(t=u[7].accountName.includes("@")),t?o?(o.p(u,_),_[0]&128&&M(o,1)):(o=pt(u),o.c(),M(o,1),o.m(e,n)):o&&(ce(),S(o,1,1,()=>{o=null}),ue()),u[7].optIn?p?(p.p(u,_),_[0]&128&&M(p,1)):(p=mt(u),p.c(),M(p,1),p.m(e,s)):p&&(ce(),S(p,1,1,()=>{p=null}),ue())},i(u){a||(M(o),M(p),a=!0)},o(u){S(o),S(p),a=!1},d(u){u&&I(e),o&&o.d(),p&&p.d(),r=!1,c()}}}function _t(l){let e,t=l[43]+"",n,s;return{c(){e=h("span"),n=U(t),f(e,"class","inline-block svelte-1ned7l1")},m(i,a){P(i,e,a),m(e,n)},p(i,a){a[0]&64&&t!==(t=i[43]+"")&&se(n,t)},i(i){s||Y(()=>{s=Jt(e,Wt,{y:-10,duration:500,delay:200+l[45]*100}),s.start()})},o:G,d(i){i&&I(e)}}}function zn(l){let e,t,n,s,i,a,r,c,o,p=String(l[6]).split(""),u=[];for(let _=0;_<p.length;_+=1)u[_]=_t(ot(l,p,_));return{c(){e=h("div"),t=U("Du hast alle Karten in "),n=U(l[4]),s=U(` Z\xFCgen aufgedeckt!\r
    `),i=h("div"),a=U("Erinnerungsquote: "),r=h("div");for(let _=0;_<u.length;_+=1)u[_].c();c=O(),o=h("span"),o.textContent="%",f(o,"class","text-xl pt-0.2 pl-0.3 svelte-1ned7l1"),f(r,"class","text-5xl mt-2 align-top justify-center flex svelte-1ned7l1"),f(i,"class","my-8 svelte-1ned7l1"),f(e,"class","text-center svelte-1ned7l1")},m(_,g){P(_,e,g),m(e,t),m(e,n),m(e,s),m(e,i),m(i,a),m(i,r);for(let b=0;b<u.length;b+=1)u[b].m(r,null);m(r,c),m(r,o)},p(_,g){if(g[0]&16&&se(n,_[4]),g[0]&64){p=String(_[6]).split("");let b;for(b=0;b<p.length;b+=1){const $=ot(_,p,b);u[b]?(u[b].p($,g),M(u[b],1)):(u[b]=_t($),u[b].c(),M(u[b],1),u[b].m(r,c))}for(;b<u.length;b+=1)u[b].d(1);u.length=p.length}},i(_){for(let g=0;g<p.length;g+=1)M(u[g])},o:G,d(_){_&&I(e),Ke(u,_)}}}function Fn(l){let e;return{c(){e=h("div"),e.innerHTML=`Die Karten passen, aber ein anderes P\xE4rchen ist gemeint, sonst ist die Runde
    nicht mehr l\xF6sbar.
    <br/>  <br/>
    Der Zug wurde nicht gez\xE4hlt \u{1F648}`,f(e,"class","text-center svelte-1ned7l1")},m(t,n){P(t,e,n)},d(t){t&&I(e)}}}function Hn(l){let e,t,n,s,i,a=[],r=new Map,c,o,p,u,_,g,b,$,A,C,L,N,w;t=new on({}),t.$on("shuffle",l[12]),t.$on("menu-settings",l[15]),t.$on("menu-data",l[16]);let q=l[1];const F=d=>d[45];for(let d=0;d<q.length;d+=1){let v=ut(l,q,d),y=F(v);r.set(y,a[d]=ft(y,v))}let W=l[3],R=[];for(let d=0;d<W.length;d+=1)R[d]=dt(ct(l,W,d));return u=new we({props:{open:l[8]==1,title:"Optionen",$$slots:{default:[Dn]},$$scope:{ctx:l}}}),u.$on("close",l[21]),g=new we({props:{open:l[8]==2,title:"Meine Daten",$$slots:{default:[Kn]},$$scope:{ctx:l}}}),g.$on("close",l[27]),$=new we({props:{open:l[8]==0&&l[2]>1&&l[2]==l[1].length,title:"\u{1F308} Gl\xFCckwunsch! \u{1F308}",$$slots:{default:[zn]},$$scope:{ctx:l}}}),$.$on("close",l[28]),C=new we({props:{open:l[8]==0&&l[5],title:"Richtig, aber...",$$slots:{default:[Fn]},$$scope:{ctx:l}}}),C.$on("close",l[29]),N=new qn({props:{open:!l[0]}}),{c(){e=h("main"),T(t.$$.fragment),n=O(),s=h("div"),i=h("div");for(let d=0;d<a.length;d+=1)a[d].c();c=O(),o=h("div");for(let d=0;d<R.length;d+=1)R[d].c();p=O(),T(u.$$.fragment),_=O(),T(g.$$.fragment),b=O(),T($.$$.fragment),A=O(),T(C.$$.fragment),L=O(),T(N.$$.fragment),f(i,"class","relative max-w-xl h-full p-5 flex flex-wrap justify-between svelte-1ned7l1"),f(s,"class","relative flex flex-grow justify-center items-center mt-25 mb-5 text-gray-800 svelte-1ned7l1"),f(e,"class","container my-2 mx-auto flex flex-col svelte-1ned7l1"),f(o,"class","hidden svelte-1ned7l1")},m(d,v){P(d,e,v),j(t,e,null),m(e,n),m(e,s),m(s,i);for(let y=0;y<a.length;y+=1)a[y].m(i,null);P(d,c,v),P(d,o,v);for(let y=0;y<R.length;y+=1)R[y].m(o,null);P(d,p,v),j(u,d,v),P(d,_,v),j(g,d,v),P(d,b,v),j($,d,v),P(d,A,v),j(C,d,v),P(d,L,v),j(N,d,v),w=!0},p(d,v){if(v[0]&1026&&(q=d[1],ce(),a=Ft(a,v,F,1,d,q,r,i,Gt,ft,null,ut),ue()),v[0]&8){W=d[3];let D;for(D=0;D<W.length;D+=1){const le=ct(d,W,D);R[D]?R[D].p(le,v):(R[D]=dt(le),R[D].c(),R[D].m(o,null))}for(;D<R.length;D+=1)R[D].d(1);R.length=W.length}const y={};v[0]&256&&(y.open=d[8]==1),v[0]&512|v[1]&1048576&&(y.$$scope={dirty:v,ctx:d}),u.$set(y);const H={};v[0]&256&&(H.open=d[8]==2),v[0]&128|v[1]&1048576&&(H.$$scope={dirty:v,ctx:d}),g.$set(H);const X={};v[0]&262&&(X.open=d[8]==0&&d[2]>1&&d[2]==d[1].length),v[0]&80|v[1]&1048576&&(X.$$scope={dirty:v,ctx:d}),$.$set(X);const V={};v[0]&288&&(V.open=d[8]==0&&d[5]),v[1]&1048576&&(V.$$scope={dirty:v,ctx:d}),C.$set(V);const ne={};v[0]&1&&(ne.open=!d[0]),N.$set(ne)},i(d){if(!w){M(t.$$.fragment,d);for(let v=0;v<q.length;v+=1)M(a[v]);M(u.$$.fragment,d),M(g.$$.fragment,d),M($.$$.fragment,d),M(C.$$.fragment,d),M(N.$$.fragment,d),w=!0}},o(d){S(t.$$.fragment,d);for(let v=0;v<a.length;v+=1)S(a[v]);S(u.$$.fragment,d),S(g.$$.fragment,d),S($.$$.fragment,d),S(C.$$.fragment,d),S(N.$$.fragment,d),w=!1},d(d){d&&I(e),B(t);for(let v=0;v<a.length;v+=1)a[v].d();d&&I(c),d&&I(o),Ke(R,d),d&&I(p),B(u,d),d&&I(_),B(g,d),d&&I(b),B($,d),d&&I(A),B(C,d),d&&I(L),B(N,d)}}}function Jn(l,e,t){let n,s,i;Pe(l,he,k=>t(7,n=k)),Pe(l,_e,k=>t(8,s=k)),Pe(l,ge,k=>t(9,i=k));let a=!1,r=!1,c=[],o=[],p=0,u=[],_=[],g=[],b=0,$=!1,A=new Set,C=0,L=0,N="100";function w(){F(u,Z.None,!0),u=[]}function q(k,J){k.flipped=!0,t(1,o[J]=k,o),u=[...u,k]}function F(k,J,oe=!1){k.forEach(ve=>{ve.status=J,oe&&(ve.flipped=!1)}),t(1,o)}function W(){F(u,Z.Correct);const k=[...u];u=[],setTimeout(()=>{F(k,Z.None)},500)}function R(k,J){if(u.length===2)if(!k.flipped)w();else{w();return}if(!k.flipped&&(q(k,J),u.length===2)){const{isCorrect:oe,isSolvable:ve}=dn(_,o,u,c);oe&&!ve?(setTimeout(()=>{t(5,$=!0)},500),F(u,Z.Correct)):(t(4,b++,b),oe&&ve?(W(),t(2,p+=2)):(F(u,Z.Incorrect),t(14,L+=1),A.has(k.id)&&t(13,C++,C)))}A.add(k.id)}async function d(){return u=[],new Promise(k=>{setTimeout(()=>k(!0),300),o.forEach((J,oe)=>{setTimeout(()=>{J.flipped=!1,t(1,o[oe]=J,o)},Math.random()*300)})})}async function v(k){t(4,b=0),t(2,p=0),t(14,L=0),t(13,C=0),A=new Set,await d(),t(1,o=[]),setTimeout(()=>{t(1,{legalPairs:c,cards:o}=fn(_,i.numOfPairs,{isCardBackRandom:i.randomCardBacks,onlyNames:i.onlyNames}),o)},800)}async function y(){const k=await et(),{row:J}=await lt(k);pe(he,n=J,n),await H(),V()}async function H(k=null){_=await yn(k),t(3,g=_.map(J=>J.profilePicture))}Ht(async()=>{setInterval(async()=>{a||await et()&&(a=!0,await y(),t(0,r=!0),n.optIn||pe(_e,s=2,s))},1e3)});async function X(){hn()&&(await wn(n.accountName,n),await H(n),await y())}const V=Vt(v,500),ne=()=>pe(_e,s=1,s),D=()=>pe(_e,s=2,s),le=(k,J)=>R(k,J);function ht(k){l.$$.not_equal(i.onlyNames,k)&&(i.onlyNames=k,ge.set(i))}function vt(k){l.$$.not_equal(i.randomCardBacks,k)&&(i.randomCardBacks=k,ge.set(i))}function bt(k){l.$$.not_equal(i.numOfPairs,k)&&(i.numOfPairs=k,ge.set(i))}const kt=()=>pe(_e,s=0,s);function wt(k){l.$$.not_equal(n.optIn,k)&&(n.optIn=k,he.set(n))}function yt(k){l.$$.not_equal(n.profilePicture,k)&&(n.profilePicture=k,he.set(n))}function $t(k){l.$$.not_equal(n.name,k)&&(n.name=k,he.set(n))}function Ct(k){l.$$.not_equal(n.hobbies,k)&&(n.hobbies=k,he.set(n))}const At=()=>{confirm("M\xF6chtest du dich wirklich ausloggen?")&&gn()},Pt=()=>(pe(_e,s=0,s),X()),Mt=()=>{t(2,p=0),V()},It=()=>{t(5,$=!1)};return l.$$.update=()=>{l.$$.dirty[0]&24576&&t(6,N=(100-100*C/Math.max(1,L)).toFixed(0))},[r,o,p,g,b,$,N,n,s,i,R,X,V,C,L,ne,D,le,ht,vt,bt,kt,wt,yt,$t,Ct,At,Pt,Mt,It]}class Wn extends x{constructor(e){super();ee(this,e,Jn,Hn,te,{},null,[-1,-1])}}new Wn({target:document.getElementById("app")});
