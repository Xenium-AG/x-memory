var gt=Object.defineProperty;var Oe=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var Ee=(n,e,t)=>e in n?gt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ve=(n,e)=>{for(var t in e||(e={}))_t.call(e,t)&&Ee(n,t,e[t]);if(Oe)for(var t of Oe(e))ht.call(e,t)&&Ee(n,t,e[t]);return n};import{S as Y,i as Q,s as V,e as Re,a as P,g as fe,t as I,c as pe,b as M,d as A,f as h,h as f,j as W,k as m,l as Z,n as z,m as we,o as U,p as ae,q as x,r as D,u as Be,v as Te,w as vt,x as bt,y as kt,z as B,A as S,B as T,C as j,D as je,E as wt,F as $t,G as yt,H as Le,I as be,J as Ct,P as Pt,K as At,L as $e,M as ie,N as Mt,O as qe,Q as It,R as St,T as ye,U as Nt,V as te,W as ne,X as le,Y as De,Z as Ot,_ as de}from"./vendor.ffe9c9e0.js";const Et=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}};Et();const Rt=[{name:"petrol",color:"007c9d"},{name:"tuerkis",color:"00afc6"},{name:"grau",color:"5a5a5a"},{name:"orange",color:"fa965a"}],Bt=["petrol","petrol","petrol","tuerkis","tuerkis","tuerkis","grau","orange","orange"],J={Correct:"correct",Incorrect:"incorrect",None:"none"};function Tt(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}function Ke(n){return n[Math.floor(Math.random()*n.length)]}function jt(n){const e=[...n];for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[l],e[l]=s}return e}function Lt(n,e){var t=!1;return function(){t||(n.apply(this,arguments),t=!0,setTimeout(function(){t=!1},e))}}function Ce(n){return n.split(",").map(e=>e.trim())}function We(n,e){let t=[];if(e>n.length||e<1)return[];if(e===n.length)return[n];if(e===1)return n.map(l=>[l]);for(let l=0;l<n.length-e+1;l++){let s=n.slice(l,l+1),a=We(n.slice(l+1),e-1);for(let i=0;i<a.length;i++)t.push(s.concat(a[i]))}return t}function Ge(n){let e,t,l;const s=[Kt,Dt,qt],a=[];function i(r,c){return r[0].flipped?r[0].type==="image"?1:2:0}return e=i(n),t=a[e]=s[e](n),{c(){t.c(),l=Re()},m(r,c){a[e].m(r,c),P(r,l,c)},p(r,c){let o=e;e=i(r),e===o?a[e].p(r,c):(fe(),I(a[o],1,1,()=>{a[o]=null}),pe(),t=a[e],t?t.p(r,c):(t=a[e]=s[e](r),t.c()),M(t,1),t.m(l.parentNode,l))},d(r){a[e].d(r),r&&A(l)}}}function qt(n){let e,t=n[0].value+"",l,s,a;return{c(){e=h("div"),l=U(t),f(e,"class","card-front text-light-blue-800 svelte-14cke48"),W(e,"incorrect",n[0].status===J.Incorrect),W(e,"correct",n[0].status===J.Correct)},m(i,r){P(i,e,r),m(e,l),a=!0},p(i,r){(!a||r&1)&&t!==(t=i[0].value+"")&&ae(l,t),r&1&&W(e,"incorrect",i[0].status===J.Incorrect),r&1&&W(e,"correct",i[0].status===J.Correct)},i(i){a||(i&&x(()=>{s||(s=D(e,re,{},!0)),s.run(1)}),a=!0)},o(i){i&&(s||(s=D(e,re,{},!1)),s.run(0)),a=!1},d(i){i&&A(e),i&&s&&s.end()}}}function Dt(n){let e,t,l;return{c(){e=h("div"),f(e,"class","card-front svelte-14cke48"),Be(e,"background-image","url("+n[0].value+")"),W(e,"incorrect",n[0].status===J.Incorrect),W(e,"correct",n[0].status===J.Correct)},m(s,a){P(s,e,a),l=!0},p(s,a){(!l||a&1)&&Be(e,"background-image","url("+s[0].value+")"),a&1&&W(e,"incorrect",s[0].status===J.Incorrect),a&1&&W(e,"correct",s[0].status===J.Correct)},i(s){l||(s&&x(()=>{t||(t=D(e,re,{},!0)),t.run(1)}),l=!0)},o(s){s&&(t||(t=D(e,re,{},!1)),t.run(0)),l=!1},d(s){s&&A(e),s&&t&&t.end()}}}function Kt(n){let e,t,l,s;return{c(){e=h("div"),f(e,"class","card-back absolute transition inset-0 shadow-md rounded-sm svelte-14cke48"),f(e,"style",t=";background-image:url('"+n[2][n[0].backColor]+"');")},m(a,i){P(a,e,i),s=!0},p(a,i){(!s||i&1&&t!==(t=";background-image:url('"+a[2][a[0].backColor]+"');"))&&f(e,"style",t)},i(a){s||(a&&x(()=>{l||(l=D(e,re,{},!0)),l.run(1)}),s=!0)},o(a){a&&(l||(l=D(e,re,{},!1)),l.run(0)),s=!1},d(a){a&&A(e),a&&l&&l.end()}}}function Wt(n){let e,t,l,s,a,i=n[0]&&Ge(n);return{c(){e=h("div"),t=h("div"),l=h("div"),i&&i.c(),f(l,"class","absolute inset-1 transform rotate transform transition card-container scale-100 svelte-14cke48"),f(l,"style",`--tw-rotate:${Math.random()*6-3}deg`),W(l,"closed",!n[0]||!n[0].flipped),W(l,"touchy",Tt()),f(t,"class","absolute cursor-pointer transition inset-0 hover:z-2 preserve-3d perspect-origin-center perspect-1000px svelte-14cke48"),f(e,"class","relative w-27 h-27 svelte-14cke48")},m(r,c){P(r,e,c),m(e,t),m(t,l),i&&i.m(l,null),s||(a=Z(e,"click",n[3]),s=!0)},p(r,[c]){r[0]?i?i.p(r,c):(i=Ge(r),i.c(),i.m(l,null)):i&&(i.d(1),i=null),c&1&&W(l,"closed",!r[0]||!r[0].flipped)},i:z,o:z,d(r){r&&A(e),i&&i.d(),s=!1,a()}}}function re(n,{delay:e=0,duration:t=250}){return{delay:e,duration:t,css:(l,s)=>`
        transform: rotateX(${1-s*180}deg) rotateZ(${1-s*5}deg) scale(${1+s*.6});
        opacity: ${s<.5?1:0};
      `}}function Gt(n,e,t){const l=we(),s=Object.fromEntries(Rt.map(({name:r,color:c})=>[r,`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" stroke="%23${c.replace("#","")}" stroke-width="22" viewBox="0 0 100 100"%3E%3Cg transform="rotate(45)"%3E%3Cpath d="M0 0h150M0 30h150M0 60h150M0 -30h150M0 -60h150"/%3E%3C/g%3E%3C/svg%3E`]));let{card:a}=e;const i=()=>{l("flipped")};return n.$$set=r=>{"card"in r&&t(0,a=r.card)},[a,l,s,i]}class Pe extends Y{constructor(e){super();Q(this,e,Gt,Wt,V,{card:0})}}function Ht(n){let e,t,l;return{c(){e=Te("svg"),t=Te("path"),f(t,"d",n[0]),f(e,"viewBox",l="0 0 "+n[1].w+" "+n[1].h),f(e,"fill",n[2]),f(e,"width","100%"),f(e,"height","100%")},m(s,a){P(s,e,a),m(e,t)},p(s,[a]){a&1&&f(t,"d",s[0]),a&2&&l!==(l="0 0 "+s[1].w+" "+s[1].h)&&f(e,"viewBox",l),a&4&&f(e,"fill",s[2])},i:z,o:z,d(s){s&&A(e)}}}function Ft(n,e,t){let{d:l}=e,{dim:s={w:30,h:30}}=e,{fill:a="rgb(156, 163, 175)"}=e;return n.$$set=i=>{"d"in i&&t(0,l=i.d),"dim"in i&&t(1,s=i.dim),"fill"in i&&t(2,a=i.fill)},[l,s,a]}class Ae extends Y{constructor(e){super();Q(this,e,Ft,Ht,V,{d:0,dim:1,fill:2})}}function Jt(n){let e,t,l,s,a,i,r,c,o,p,_,w,d,b,y,K,C,q,N;return a=new Ae({props:{d:vt}}),p=new Ae({props:{d:bt,fill:"rgb(251, 146, 60)"}}),y=new Ae({props:{d:kt}}),{c(){e=h("div"),t=h("div"),l=h("button"),s=h("span"),B(a.$$.fragment),i=U("Optionen"),r=S(),c=h("button"),o=h("span"),B(p.$$.fragment),_=U("Neu"),w=S(),d=h("button"),b=h("span"),B(y.$$.fragment),K=U("Daten"),f(s,"class","w-6 h-6 inline-block mr-1 svelte-1uh3kgt"),f(l,"class","svelte-1uh3kgt"),f(o,"class","w-6 h-6 inline-block mr-1 svelte-1uh3kgt"),f(c,"class","text-orange-400 h-full  svelte-1uh3kgt"),f(b,"class","w-6 h-6 inline-block mr-1 svelte-1uh3kgt"),f(d,"class","svelte-1uh3kgt"),f(t,"class","max-w-xl mx-auto flex justify-between svelte-1uh3kgt"),f(e,"class","absolute left-0 right-0 top-0 z-10 bg-dark-200 svelte-1uh3kgt")},m(k,R){P(k,e,R),m(e,t),m(t,l),m(l,s),T(a,s,null),m(l,i),m(t,r),m(t,c),m(c,o),T(p,o,null),m(c,_),m(t,w),m(t,d),m(d,b),T(y,b,null),m(d,K),C=!0,q||(N=[Z(l,"click",n[1]),Z(c,"click",n[2]),Z(d,"click",n[3])],q=!0)},p:z,i(k){C||(M(a.$$.fragment,k),M(p.$$.fragment,k),M(y.$$.fragment,k),C=!0)},o(k){I(a.$$.fragment,k),I(p.$$.fragment,k),I(y.$$.fragment,k),C=!1},d(k){k&&A(e),j(a),j(p),j(y),q=!1,je(N)}}}function Zt(n){const e=we();return[e,()=>{e("menu-settings")},()=>{e("shuffle")},()=>{e("menu-data")}]}class zt extends Y{constructor(e){super();Q(this,e,Zt,Jt,V,{})}}function He(n){let e,t,l,s,a,i,r,c,o,p,_;const w=n[4].default,d=Ct(w,n,n[3],null);return{c(){e=h("div"),l=S(),s=h("div"),a=h("h1"),i=U(n[1]),r=S(),d&&d.c(),f(e,"class","fixed z-20 inset-0 bg-light-300/15 backdrop-filter backdrop-blur-sm backdrop-grayscale svelte-171i232"),f(a,"class","mt-0 mb-10 pt-1 text-center font-thin text-xl svelte-171i232"),f(s,"class","absolute self-center mt-20 w-xs bg-dark-200 z-21 rounded-xl shadow px-5 pt-3 pb-8 text-light-900 svelte-171i232")},m(b,y){P(b,e,y),P(b,l,y),P(b,s,y),m(s,a),m(a,i),m(s,r),d&&d.m(s,null),o=!0,p||(_=Z(e,"click",n[2]),p=!0)},p(b,y){(!o||y&2)&&ae(i,b[1]),d&&d.p&&(!o||y&8)&&wt(d,w,b,b[3],o?yt(w,b[3],y,null):$t(b[3]),null)},i(b){o||(x(()=>{t||(t=D(e,Le,{duration:50},!0)),t.run(1)}),M(d,b),x(()=>{c||(c=D(s,be,{duration:150},!0)),c.run(1)}),o=!0)},o(b){t||(t=D(e,Le,{duration:50},!1)),t.run(0),I(d,b),c||(c=D(s,be,{duration:150},!1)),c.run(0),o=!1},d(b){b&&A(e),b&&t&&t.end(),b&&A(l),b&&A(s),d&&d.d(b),b&&c&&c.end(),p=!1,_()}}}function Ut(n){let e,t,l=n[0]&&He(n);return{c(){l&&l.c(),e=Re()},m(s,a){l&&l.m(s,a),P(s,e,a),t=!0},p(s,[a]){s[0]?l?(l.p(s,a),a&1&&M(l,1)):(l=He(s),l.c(),M(l,1),l.m(e.parentNode,e)):l&&(fe(),I(l,1,1,()=>{l=null}),pe())},i(s){t||(M(l),t=!0)},o(s){I(l),t=!1},d(s){l&&l.d(s),s&&A(e)}}}function Xt(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=we();let{open:i=!1}=e,{title:r=""}=e;function c(){a("close")}return n.$$set=o=>{"open"in o&&t(0,i=o.open),"title"in o&&t(1,r=o.title),"$$scope"in o&&t(3,s=o.$$scope)},[i,r,c,s,l]}class ke extends Y{constructor(e){super();Q(this,e,Xt,Ut,V,{open:0,title:1})}}function Yt(n,e,t){const l=.1;let s=n.map(r=>{var d;const c={isLeft:!0,type:"text",origin:r,value:null},o={isLeft:!1,type:"text",origin:r,value:null},p=Math.max(1,Math.ceil(l/(1-l)*r.characteristics.length)),_=Array.from({length:p},b=>({type:"name",value:r.name}));let w=t.onlyNames?_:[...r.characteristics];return((d=r.profilePicture)==null?void 0:d.length)?(c.type="image",c.value=r.profilePicture):(c.type="text",c.value=r.name,w=r.characteristics),o.value=Ke(w).value,t.isCatMode&&(o.type="image",o.value=r.profilePicture),{left:c,right:o}});const a=jt(s.slice(0,e).map(({left:r,right:c},o)=>[r,c].map(({isLeft:p,type:_,value:w},d)=>({id:o*2+d,type:_,value:w,flipped:!1,status:"none",backColor:t.isCardBackRandom?Ke(Bt):p?"orange":"petrol"}))).flat()),i=[];for(let r=0;r<a.length-1;r++)for(let c=r+1;c<a.length;c++)Fe(n,[a[r],a[c]])&&i.push([a[r].id,a[c].id]);return{legalPairs:i,cards:a}}function Fe(n,e){const[t,l]=e;return n.find(s=>{let a=!1;t.type==="image"||l.type==="image"?a=s.profilePicture===t.value||s.profilePicture===l.value:a=s.name===t.value||s.name===l.value;const i=s.values.filter(c=>c===t.value),r=s.values.filter(c=>c===l.value);return a&&i.length&&r.length})}function Qt(n,e,t,l){const s=Fe(n,t),a=e.filter(o=>!o.flipped).map(o=>o.id);if(a.length===0)return{isCorrect:!!s,isSolvable:!0};if(t.every(o=>o.value.match(/(ruppert|jores)\.jpg$/)))return{isCorrect:!0,isSolvable:!1};const i=l.filter(([o,p])=>a.includes(o)&&a.includes(p)),c=We(i,a.length/2).some(o=>a.length===new Set(o.flat()).size);return{isCorrect:!!s,isSolvable:c}}const Vt={auth:{clientId:"8cb79a95-16ba-4944-ba1f-3eb6aba590af",authority:"https://login.microsoftonline.com/xenium.de/",redirectUri:"https://xenium-ag.github.io/x-memory/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},Me={scopes:["openid","profile","User.Read"]},Je={scopes:["Files.ReadWrite.All"]},Ze="https://graph.microsoft.com/v1.0/",ze={graphMeEndpoint:Ze+"me",graphExcelEndpoint:Ze+"me/drives('b!wEIKwB2AmkSUdJFQJo364_qyqWsjPhJPvZ-dAlVFYcxKBSl2XNg5TrtqYG0Kg2_J')/items/01FOBSV6QKWIUG5W2TGZD3GNWHB3BOYNCT/workbook"},G=new Pt(Vt);(async()=>{xt(await G.handleRedirectPromise())})();function xt(n){n!==null||(G.getAllAccounts().length===0?G.loginRedirect(Me):G.setActiveAccount(G.getAllAccounts()[0]))}async function en(){alert("red");const n=await G.loginRedirect(Me);return alert("redirected"),console.log("id_token acquired at: "+new Date().toString()),G.setActiveAccount(G.getAllAccounts()[0]),n}async function tn(){return G.logoutPopup()}function Ue(){return!!G.getActiveAccount()}async function Xe(n,e,t,l,s){const a={method:n,headers:new Headers(ve({Authorization:`Bearer ${s}`},e))};return["patch","post"].some(i=>i===n.toLowerCase())&&(a.body=JSON.stringify(l)),(await fetch(t,a)).json()}async function Ye(n){try{return await G.acquireTokenSilent(n)}catch(e){return console.error(e),G.acquireTokenRedirect(n)}}async function Qe(n){G.getActiveAccount()||await en();const{accessToken:e}=await Ye(n);return e}async function nn(){return G.getActiveAccount()||await Ye(Me),G.getActiveAccount().username}let Ie="";async function ln(){const{id:n}=await Xe("POST",{persistChanges:!0},ze.graphExcelEndpoint+"/createSession",{},await Qe(Je));Ie=n}async function Ve(n,e,t={}){return Ie||await ln(),Xe(n,{"workbook-session-id":Ie},ze.graphExcelEndpoint+"/"+e,t,await Qe(Je))}const xe="ABCDEFGHIJKLMOPQRSTUVWXYZ".split("");function sn(n){const e=n.slice(0,1).flat();return n.slice(1).map(t=>{const l={};return t.forEach((s,a)=>l[e[a]]=s),l})}async function et(){return sn((await Ve("GET","worksheets('data')/usedRange")).values)}async function tt(n){const e=await et(),t=e.findIndex(l=>l.accountName===n);return{index:t,row:e[t]}}async function an(n,e){const{index:t,row:l}=await tt(n);Object.entries(e).forEach(([r,c])=>{l.hasOwnProperty(r)&&(l[r]=c)});const s=Object.values(l).slice(1),a={values:[s]},i=1;await Ve("PATCH",`worksheets('data')/range(address='${xe[i]}${t+2}:${xe[i+s.length-1]}${t+2}')`,a)}Ce("Berlin,M\xFCnchen,Hamburg");Ce("Anna,Max,Peter,Michael,Hans,Frank,Tina,Lea,Hannah,Rudolf");Ce("Wick,Johnson,Cooper,Gandalf,Mask,Ford");async function rn(n=null){const e=(await et()).filter(t=>t.optIn);if(n){const t=e.findIndex(l=>l.accountName===n.accountName);t>=0&&(e[t]=n)}return e.map((t,l)=>{const s=[{type:"name",value:t.name}].concat(t.hobbies.split(/[\,\.;]/g).filter(i=>i.trim().length>0).map(i=>({type:"hobby",value:i}))),a=s.map(i=>i.value).concat([t.profilePicture]);return{id:l,accountName:t.accountName,profilePicture:t.profilePicture,name:t.name,characteristics:s,values:a}})}function nt(n,{delay:e=0}){return{delay:Math.random()*150,duration:200+Math.random()*50,css:(t,l)=>`
      transform:  translate(${-(1-t)*(-n.parentElement.offsetWidth/2+n.offsetLeft+n.offsetWidth/2)}px,${-(1-t)*(n.offsetTop+2*n.offsetHeight+n.parentElement.offsetTop)}px) rotateZ(${(1-t)*90}deg);
    `,easing:At}}const me=$e(0),lt={numOfPairs:5,onlyNames:!1,randomCardBacks:!1},on={accountName:"lorem",optIn:!1,name:"ipsum",profilePicture:"http://placekitten.com/g/200/200",hobbies:""},st="x-memory.settings",oe=$e(lt);var ft;oe.set(ve(ve({},lt),JSON.parse((ft=localStorage.getItem(st))!=null?ft:"{}")));const ce=$e(on);oe.subscribe(n=>{localStorage.setItem(st,JSON.stringify(n))});function cn(n){let e,t,l,s,a,i,r,c,o,p,_,w;return{c(){e=h("label"),t=h("span"),l=h("input"),s=S(),a=h("div"),i=S(),r=h("div"),c=S(),o=h("span"),p=U(n[1]),f(l,"id",n[2]),f(l,"type","checkbox"),f(l,"class","hidden svelte-19cvki3"),f(a,"class","w-10 h-6 rounded-full shadow-inner bg-red-400 transition svelte-19cvki3"),W(a,"bg-green-500",n[0]),f(r,"class","absolute inset-y-0 left-0 w-4 h-4 m-1 rounded-full shadow bg-dark-200 transition svelte-19cvki3"),W(r,"checked",n[0]),f(t,"class","relative svelte-19cvki3"),f(o,"class","text-sm svelte-19cvki3"),f(e,"for",n[2]),f(e,"class","inline-flex items-center space-x-4 cursor-pointer text-coolGray-100 svelte-19cvki3")},m(d,b){P(d,e,b),m(e,t),m(t,l),l.checked=n[0],m(t,s),m(t,a),m(t,i),m(t,r),m(e,c),m(e,o),m(o,p),_||(w=Z(l,"change",n[3]),_=!0)},p(d,[b]){b&1&&(l.checked=d[0]),b&1&&W(a,"bg-green-500",d[0]),b&1&&W(r,"checked",d[0]),b&2&&ae(p,d[1])},i:z,o:z,d(d){d&&A(e),_=!1,w()}}}let un=0;function fn(n,e,t){let{checked:l}=e,{label:s}=e,a="checkbox_input_"+un++;function i(){l=this.checked,t(0,l)}return n.$$set=r=>{"checked"in r&&t(0,l=r.checked),"label"in r&&t(1,s=r.label)},[l,s,a,i]}class Se extends Y{constructor(e){super();Q(this,e,fn,cn,V,{checked:0,label:1})}}function pn(n){let e,t,l,s,a,i,r;return{c(){e=h("label"),t=h("span"),l=U(n[1]),s=S(),a=h("input"),f(t,"class","text-sm svelte-1p18nd4"),f(a,"id",n[4]),f(a,"type","range"),f(a,"min",n[2]),f(a,"max",n[3]),f(a,"class","range mt-8 svelte-1p18nd4"),f(e,"for",n[4]),f(e,"class","relative svelte-1p18nd4")},m(c,o){P(c,e,o),m(e,t),m(t,l),m(e,s),m(e,a),ie(a,n[0]),i||(r=[Z(a,"change",n[5]),Z(a,"input",n[5])],i=!0)},p(c,[o]){o&2&&ae(l,c[1]),o&4&&f(a,"min",c[2]),o&8&&f(a,"max",c[3]),o&1&&ie(a,c[0])},i:z,o:z,d(c){c&&A(e),i=!1,je(r)}}}let dn=0;function mn(n,e,t){let{label:l=""}=e,{min:s=3}=e,{max:a=100}=e,{value:i=0}=e,r="range_input_"+dn++;function c(){i=Mt(this.value),t(0,i)}return n.$$set=o=>{"label"in o&&t(1,l=o.label),"min"in o&&t(2,s=o.min),"max"in o&&t(3,a=o.max),"value"in o&&t(0,i=o.value)},[i,l,s,a,r,c]}class gn extends Y{constructor(e){super();Q(this,e,mn,pn,V,{label:1,min:2,max:3,value:0})}}function _n(n){let e,t,l;return{c(){e=h("input"),f(e,"type","text"),f(e,"id",n[3]),f(e,"spellcheck","false"),f(e,"autocomplete","new-password"),f(e,"class","input svelte-hkroje")},m(s,a){P(s,e,a),ie(e,n[0]),t||(l=Z(e,"input",n[5]),t=!0)},p(s,a){a&1&&e.value!==s[0]&&ie(e,s[0])},d(s){s&&A(e),t=!1,l()}}}function hn(n){let e,t,l;return{c(){e=h("textarea"),f(e,"id",n[3]),f(e,"class","input svelte-hkroje")},m(s,a){P(s,e,a),ie(e,n[0]),t||(l=Z(e,"input",n[4]),t=!0)},p(s,a){a&1&&ie(e,s[0])},d(s){s&&A(e),t=!1,l()}}}function vn(n){let e,t,l,s;function a(c,o){return c[2]?hn:_n}let i=a(n),r=i(n);return{c(){e=h("label"),t=h("span"),l=U(n[1]),s=S(),r.c(),f(t,"class","text-sm svelte-hkroje"),f(e,"for",n[3]),f(e,"class","relative svelte-hkroje")},m(c,o){P(c,e,o),m(e,t),m(t,l),m(e,s),r.m(e,null)},p(c,[o]){o&2&&ae(l,c[1]),i===(i=a(c))&&r?r.p(c,o):(r.d(1),r=i(c),r&&(r.c(),r.m(e,null)))},i:z,o:z,d(c){c&&A(e),r.d()}}}let bn=0;function kn(n,e,t){let{label:l=""}=e,{value:s=""}=e,{textarea:a=!1}=e,i="input_"+bn++;function r(){s=this.value,t(0,s)}function c(){s=this.value,t(0,s)}return n.$$set=o=>{"label"in o&&t(1,l=o.label),"value"in o&&t(0,s=o.value),"textarea"in o&&t(2,a=o.textarea)},[s,l,a,i,r,c]}class Ne extends Y{constructor(e){super();Q(this,e,kn,vn,V,{label:1,value:0,textarea:2})}}function at(n,e,t){const l=n.slice();return l[37]=e[t],l}function it(n,e,t){const l=n.slice();return l[40]=e[t],l[42]=t,l}function rt(n,e){let t,l,s,a;function i(){return e[13](e[40],e[42])}return l=new Pe({props:{card:e[40]}}),l.$on("flipped",i),{key:n,first:null,c(){t=h("span"),B(l.$$.fragment),f(t,"class",""),this.first=t},m(r,c){P(r,t,c),T(l,t,null),a=!0},p(r,c){e=r;const o={};c[0]&1&&(o.card=e[40]),l.$set(o)},i(r){a||(M(l.$$.fragment,r),x(()=>{s||(s=D(t,nt,{},!0)),s.run(1)}),a=!0)},o(r){I(l.$$.fragment,r),s||(s=D(t,nt,{},!1)),s.run(0),a=!1},d(r){r&&A(t),j(l),r&&s&&s.end()}}}function ot(n){let e,t;return{c(){e=h("img"),qe(e.src,t=n[37])||f(e,"src",t),f(e,"alt","")},m(l,s){P(l,e,s)},p(l,s){s[0]&4&&!qe(e.src,t=l[37])&&f(e,"src",t)},d(l){l&&A(e)}}}function wn(n){let e,t,l,s,a,i,r,c,o,p,_,w,d;function b(k){n[14](k)}let y={label:"Nur Namen"};n[6].onlyNames!==void 0&&(y.checked=n[6].onlyNames),l=new Se({props:y}),te.push(()=>ne(l,"checked",b));function K(k){n[15](k)}let C={label:"Zuf\xE4llige Kartenr\xFCcken"};n[6].randomCardBacks!==void 0&&(C.checked=n[6].randomCardBacks),r=new Se({props:C}),te.push(()=>ne(r,"checked",K));function q(k){n[16](k)}let N={min:3,max:50,label:`${n[6].numOfPairs} Kartenpaare`};return n[6].numOfPairs!==void 0&&(N.value=n[6].numOfPairs),_=new gn({props:N}),te.push(()=>ne(_,"value",q)),{c(){e=h("div"),t=h("span"),B(l.$$.fragment),a=S(),i=h("span"),B(r.$$.fragment),o=S(),p=h("span"),B(_.$$.fragment),f(t,"class","svelte-pxfbg6"),f(i,"class","svelte-pxfbg6"),f(p,"class","svelte-pxfbg6"),f(e,"class","flex flex-col space-y-8 svelte-pxfbg6")},m(k,R){P(k,e,R),m(e,t),T(l,t,null),m(e,a),m(e,i),T(r,i,null),m(e,o),m(e,p),T(_,p,null),d=!0},p(k,R){const O={};!s&&R[0]&64&&(s=!0,O.checked=k[6].onlyNames,le(()=>s=!1)),l.$set(O);const u={};!c&&R[0]&64&&(c=!0,u.checked=k[6].randomCardBacks,le(()=>c=!1)),r.$set(u);const g={};R[0]&64&&(g.label=`${k[6].numOfPairs} Kartenpaare`),!w&&R[0]&64&&(w=!0,g.value=k[6].numOfPairs,le(()=>w=!1)),_.$set(g)},i(k){d||(M(l.$$.fragment,k),M(r.$$.fragment,k),M(_.$$.fragment,k),d=!0)},o(k){I(l.$$.fragment,k),I(r.$$.fragment,k),I(_.$$.fragment,k),d=!1},d(k){k&&A(e),j(l),j(r),j(_)}}}function ct(n){let e,t,l,s,a,i;function r(o){n[18](o)}let c={label:"Mitmachen"};return n[5].optIn!==void 0&&(c.checked=n[5].optIn),t=new Se({props:c}),te.push(()=>ne(t,"checked",r)),{c(){e=h("span"),B(t.$$.fragment),s=S(),a=h("div"),a.textContent="Ohne deinen Opt-in tauchst du im Spiel nicht auf.",f(a,"class","mt-1 text-xs svelte-pxfbg6"),f(e,"class","svelte-pxfbg6")},m(o,p){P(o,e,p),T(t,e,null),m(e,s),m(e,a),i=!0},p(o,p){const _={};!l&&p[0]&32&&(l=!0,_.checked=o[5].optIn,le(()=>l=!1)),t.$set(_)},i(o){i||(M(t.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),i=!1},d(o){o&&A(e),j(t)}}}function ut(n){let e,t,l,s,a,i,r,c,o,p,_,w,d,b,y,K,C,q,N,k;l=new Pe({props:{card:{type:"image",flipped:!0,value:n[5].profilePicture}}}),a=new Pe({props:{card:{type:"text",flipped:!0,value:n[5].name}}});function R($){n[19]($)}let O={label:"Bild URL (default: Website)"};n[5].profilePicture!==void 0&&(O.value=n[5].profilePicture),o=new Ne({props:O}),te.push(()=>ne(o,"value",R));function u($){n[20]($)}let g={label:"Name"};n[5].name!==void 0&&(g.value=n[5].name),d=new Ne({props:g}),te.push(()=>ne(d,"value",u));function E($){n[21]($)}let X={label:"Hobbies, Regien, Lieblingsessen, etc.",textarea:!0};return n[5].hobbies!==void 0&&(X.value=n[5].hobbies),C=new Ne({props:X}),te.push(()=>ne(C,"value",E)),{c(){e=h("span"),t=h("div"),B(l.$$.fragment),s=S(),B(a.$$.fragment),r=S(),c=h("div"),B(o.$$.fragment),_=S(),w=h("div"),B(d.$$.fragment),y=S(),K=h("div"),B(C.$$.fragment),f(t,"class","self-center flex justify-around w-full svelte-pxfbg6"),f(c,"class","svelte-pxfbg6"),f(w,"class","svelte-pxfbg6"),f(K,"class","svelte-pxfbg6"),f(e,"class","space-y-6 svelte-pxfbg6")},m($,F){P($,e,F),m(e,t),T(l,t,null),m(t,s),T(a,t,null),m(e,r),m(e,c),T(o,c,null),m(e,_),m(e,w),T(d,w,null),m(e,y),m(e,K),T(C,K,null),k=!0},p($,F){const L={};F[0]&32&&(L.card={type:"image",flipped:!0,value:$[5].profilePicture}),l.$set(L);const ee={};F[0]&32&&(ee.card={type:"text",flipped:!0,value:$[5].name}),a.$set(ee);const ge={};!p&&F[0]&32&&(p=!0,ge.value=$[5].profilePicture,le(()=>p=!1)),o.$set(ge);const _e={};!b&&F[0]&32&&(b=!0,_e.value=$[5].name,le(()=>b=!1)),d.$set(_e);const he={};!q&&F[0]&32&&(q=!0,he.value=$[5].hobbies,le(()=>q=!1)),C.$set(he)},i($){k||(M(l.$$.fragment,$),M(a.$$.fragment,$),x(()=>{i||(i=D(t,be,{},!0)),i.run(1)}),M(o.$$.fragment,$),M(d.$$.fragment,$),M(C.$$.fragment,$),x(()=>{N||(N=D(e,De,{},!0)),N.run(1)}),k=!0)},o($){I(l.$$.fragment,$),I(a.$$.fragment,$),i||(i=D(t,be,{},!1)),i.run(0),I(o.$$.fragment,$),I(d.$$.fragment,$),I(C.$$.fragment,$),N||(N=D(e,De,{},!1)),N.run(0),k=!1},d($){$&&A(e),j(l),j(a),$&&i&&i.end(),j(o),j(d),j(C),$&&N&&N.end()}}}function $n(n){let e,t=n[5].accountName.includes("@"),l,s,a,i,r,c,o=t&&ct(n),p=n[5].optIn&&ut(n);return{c(){e=h("div"),o&&o.c(),l=S(),p&&p.c(),s=S(),a=h("button"),a.textContent="Ausloggen",f(a,"class","btn bg-cool-gray-700 hover:bg-cool-gray-500 svelte-pxfbg6"),f(e,"class","flex flex-col space-y-6 svelte-pxfbg6")},m(_,w){P(_,e,w),o&&o.m(e,null),m(e,l),p&&p.m(e,null),m(e,s),m(e,a),i=!0,r||(c=Z(a,"click",tn),r=!0)},p(_,w){w[0]&32&&(t=_[5].accountName.includes("@")),t?o?(o.p(_,w),w[0]&32&&M(o,1)):(o=ct(_),o.c(),M(o,1),o.m(e,l)):o&&(fe(),I(o,1,1,()=>{o=null}),pe()),_[5].optIn?p?(p.p(_,w),w[0]&32&&M(p,1)):(p=ut(_),p.c(),M(p,1),p.m(e,s)):p&&(fe(),I(p,1,1,()=>{p=null}),pe())},i(_){i||(M(o),M(p),i=!0)},o(_){I(o),I(p),i=!1},d(_){_&&A(e),o&&o.d(),p&&p.d(),r=!1,c()}}}function yn(n){let e,t,l,s;return{c(){e=h("div"),t=U("Du hast alle Karten in "),l=U(n[3]),s=U(" Z\xFCgen aufgedeckt!"),f(e,"class","text-center svelte-pxfbg6")},m(a,i){P(a,e,i),m(e,t),m(e,l),m(e,s)},p(a,i){i[0]&8&&ae(l,a[3])},d(a){a&&A(e)}}}function Cn(n){let e;return{c(){e=h("div"),e.innerHTML=`Die Karten passen, aber ein anderes P\xE4rchen ist gemeint, sonst ist die Runde
    nicht mehr l\xF6sbar.
    <br/>  <br/>
    Der Zug wurde nicht gez\xE4hlt \u{1F648}`,f(e,"class","text-center svelte-pxfbg6")},m(t,l){P(t,e,l)},d(t){t&&A(e)}}}function Pn(n){let e,t,l,s,a,i=[],r=new Map,c,o,p,_,w,d,b,y,K,C,q;t=new zt({}),t.$on("shuffle",n[10]),t.$on("menu-settings",n[11]),t.$on("menu-data",n[12]);let N=n[0];const k=u=>u[42];for(let u=0;u<N.length;u+=1){let g=it(n,N,u),E=k(g);r.set(E,i[u]=rt(E,g))}let R=n[2],O=[];for(let u=0;u<R.length;u+=1)O[u]=ot(at(n,R,u));return _=new ke({props:{open:n[7]==1,title:"Optionen",$$slots:{default:[wn]},$$scope:{ctx:n}}}),_.$on("close",n[17]),d=new ke({props:{open:n[7]==2,title:"Meine Daten",$$slots:{default:[$n]},$$scope:{ctx:n}}}),d.$on("close",n[22]),y=new ke({props:{open:n[7]==0&&n[1]>1&&n[1]==n[0].length,title:"\u{1F308} Gl\xFCckwunsch! \u{1F308}",$$slots:{default:[yn]},$$scope:{ctx:n}}}),y.$on("close",n[23]),C=new ke({props:{open:n[7]==0&&n[4],title:"Richtig, aber...",$$slots:{default:[Cn]},$$scope:{ctx:n}}}),C.$on("close",n[24]),{c(){e=h("main"),B(t.$$.fragment),l=S(),s=h("div"),a=h("div");for(let u=0;u<i.length;u+=1)i[u].c();c=S(),o=h("div");for(let u=0;u<O.length;u+=1)O[u].c();p=S(),B(_.$$.fragment),w=S(),B(d.$$.fragment),b=S(),B(y.$$.fragment),K=S(),B(C.$$.fragment),f(a,"class","relative max-w-xl h-full p-5 flex flex-wrap justify-between svelte-pxfbg6"),f(s,"class","relative flex flex-grow justify-center items-center mt-25 mb-5 text-gray-800 svelte-pxfbg6"),f(e,"class","container my-2 mx-auto flex flex-col svelte-pxfbg6"),f(o,"class","hidden svelte-pxfbg6")},m(u,g){P(u,e,g),T(t,e,null),m(e,l),m(e,s),m(s,a);for(let E=0;E<i.length;E+=1)i[E].m(a,null);P(u,c,g),P(u,o,g);for(let E=0;E<O.length;E+=1)O[E].m(o,null);P(u,p,g),T(_,u,g),P(u,w,g),T(d,u,g),P(u,b,g),T(y,u,g),P(u,K,g),T(C,u,g),q=!0},p(u,g){if(g[0]&257&&(N=u[0],fe(),i=It(i,g,k,1,u,N,r,a,Ot,rt,null,it),pe()),g[0]&4){R=u[2];let L;for(L=0;L<R.length;L+=1){const ee=at(u,R,L);O[L]?O[L].p(ee,g):(O[L]=ot(ee),O[L].c(),O[L].m(o,null))}for(;L<O.length;L+=1)O[L].d(1);O.length=R.length}const E={};g[0]&128&&(E.open=u[7]==1),g[0]&64|g[1]&4096&&(E.$$scope={dirty:g,ctx:u}),_.$set(E);const X={};g[0]&128&&(X.open=u[7]==2),g[0]&32|g[1]&4096&&(X.$$scope={dirty:g,ctx:u}),d.$set(X);const $={};g[0]&131&&($.open=u[7]==0&&u[1]>1&&u[1]==u[0].length),g[0]&8|g[1]&4096&&($.$$scope={dirty:g,ctx:u}),y.$set($);const F={};g[0]&144&&(F.open=u[7]==0&&u[4]),g[1]&4096&&(F.$$scope={dirty:g,ctx:u}),C.$set(F)},i(u){if(!q){M(t.$$.fragment,u);for(let g=0;g<N.length;g+=1)M(i[g]);M(_.$$.fragment,u),M(d.$$.fragment,u),M(y.$$.fragment,u),M(C.$$.fragment,u),q=!0}},o(u){I(t.$$.fragment,u);for(let g=0;g<i.length;g+=1)I(i[g]);I(_.$$.fragment,u),I(d.$$.fragment,u),I(y.$$.fragment,u),I(C.$$.fragment,u),q=!1},d(u){u&&A(e),j(t);for(let g=0;g<i.length;g+=1)i[g].d();u&&A(c),u&&A(o),St(O,u),u&&A(p),j(_,u),u&&A(w),j(d,u),u&&A(b),j(y,u),u&&A(K),j(C,u)}}}function An(n,e,t){let l,s,a;ye(n,ce,v=>t(5,l=v)),ye(n,oe,v=>t(6,s=v)),ye(n,me,v=>t(7,a=v));let i=[],r=[],c=0,o=[],p=[],_=[],w=0,d=!1,b=new Set;function y(){C(o,J.None,!0),o=[]}function K(v,H){v.flipped=!0,t(0,r[H]=v,r),o=[...o,v]}function C(v,H,se=!1){v.forEach(ue=>{ue.status=H,se&&(ue.flipped=!1)}),t(0,r)}function q(){C(o,J.Correct);const v=[...o];o=[],setTimeout(()=>{C(v,J.None)},500)}function N(v,H){if(o.length===2)if(!v.flipped)y();else{y();return}if(!v.flipped&&(K(v,H),o.length===2)){const{isCorrect:se,isSolvable:ue}=Qt(p,r,o,i);se&&!ue?(t(4,d=!0),C(o,J.Correct)):(t(3,w++,w),se&&ue?(q(),t(1,c+=2)):C(o,J.Incorrect))}b.add(v.id)}async function k(){return o=[],new Promise(v=>{setTimeout(()=>v(!0),300),r.forEach((H,se)=>{setTimeout(()=>{H.flipped=!1,t(0,r[se]=H,r)},Math.random()*300)})})}async function R(v){t(3,w=0),t(1,c=0),b=new Set,await k(),t(0,r=[]),setTimeout(()=>{t(0,{legalPairs:i,cards:r}=Yt(p,s.numOfPairs,{isCardBackRandom:s.randomCardBacks,onlyNames:s.onlyNames}),r)},800)}async function O(){const v=await nn(),{row:H}=await tt(v);de(ce,l=H,l),await u(),E()}async function u(v=null){p=await rn(v),t(2,_=p.map(H=>H.profilePicture))}Nt(async()=>{Ue()&&await O()});async function g(){Ue()&&(await an(l.accountName,l),await u(l))}const E=Lt(R,800),X=()=>de(me,a=1,a),$=()=>de(me,a=2,a),F=(v,H)=>N(v,H);function L(v){n.$$.not_equal(s.onlyNames,v)&&(s.onlyNames=v,oe.set(s))}function ee(v){n.$$.not_equal(s.randomCardBacks,v)&&(s.randomCardBacks=v,oe.set(s))}function ge(v){n.$$.not_equal(s.numOfPairs,v)&&(s.numOfPairs=v,oe.set(s))}const _e=()=>de(me,a=0,a);function he(v){n.$$.not_equal(l.optIn,v)&&(l.optIn=v,ce.set(l))}function pt(v){n.$$.not_equal(l.profilePicture,v)&&(l.profilePicture=v,ce.set(l))}function dt(v){n.$$.not_equal(l.name,v)&&(l.name=v,ce.set(l))}function mt(v){n.$$.not_equal(l.hobbies,v)&&(l.hobbies=v,ce.set(l))}return[r,c,_,w,d,l,s,a,N,g,E,X,$,F,L,ee,ge,_e,he,pt,dt,mt,()=>(de(me,a=0,a),g()),()=>{t(1,c=0),E()},()=>{t(4,d=!1)}]}class Mn extends Y{constructor(e){super();Q(this,e,An,Pn,V,{},null,[-1,-1])}}new Mn({target:document.getElementById("app")});
